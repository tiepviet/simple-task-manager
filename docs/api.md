ä»¥ä¸‹ã¯ã€**ç°¡æ˜“ã‚¿ã‚¹ã‚¯ç®¡ç†ã‚¢ãƒ—ãƒª**ã«å¿…è¦ãª REST API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§ã¨ãã®è©³ç´°ä»•æ§˜ã§ã™ã€‚

å„ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯ **èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆJWTï¼‰å‰æ** ã§ã€åŸºæœ¬çš„ã« `/api/v1/` ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ãŒã¤ã„ã¦ã„ã¾ã™ã€‚

---

## âœ… API ä¸€è¦§

| ãƒ¡ã‚½ãƒƒãƒ‰ | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ      | æ¦‚è¦                       |
| -------- | ------------------- | -------------------------- |
| POST     | `/auth/register`    | ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²               |
| POST     | `/auth/login`       | ãƒ­ã‚°ã‚¤ãƒ³ï¼ˆJWT ç™ºè¡Œï¼‰       |
| GET      | `/auth/me`          | ãƒ­ã‚°ã‚¤ãƒ³ä¸­ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾— |
| GET      | `/users`            | ï¼ˆç®¡ç†è€…ï¼‰å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§   |
| GET      | `/tasks`            | è‡ªåˆ†ã®ã‚¿ã‚¹ã‚¯ä¸€è¦§å–å¾—       |
| GET      | `/tasks/:id`        | å˜ä¸€ã‚¿ã‚¹ã‚¯ã®å–å¾—           |
| POST     | `/tasks`            | ã‚¿ã‚¹ã‚¯ä½œæˆ                 |
| PUT      | `/tasks/:id`        | ã‚¿ã‚¹ã‚¯ç·¨é›†                 |
| PATCH    | `/tasks/:id/status` | å®Œäº†çŠ¶æ…‹åˆ‡ã‚Šæ›¿ãˆ           |
| DELETE   | `/tasks/:id`        | ã‚¿ã‚¹ã‚¯å‰Šé™¤                 |
| GET      | `/admin/tasks`      | ï¼ˆç®¡ç†è€…ï¼‰å…¨ã‚¿ã‚¹ã‚¯ä¸€è¦§     |

---

## âœ… ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè©³ç´°ä»•æ§˜

---

### ğŸ” `POST /auth/register`

- ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ:**

```json
{
  "username": "taro",
  "email": "taro@example.com",
  "password": "password123"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹:**

```json
{
  "id": "uuid",
  "username": "taro",
  "email": "taro@example.com"
}
```

---

### ğŸ” `POST /auth/login`

- èªè¨¼ãƒ»ãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ:**

```json
{
  "email": "taro@example.com",
  "password": "password123"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹:**

```json
{
  "access_token": "jwt_token",
  "token_type": "bearer"
}
```

---

### ğŸ” `GET /auth/me`

- è‡ªåˆ†ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—ï¼ˆJWT å¿…é ˆï¼‰

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹:**

```json
{
  "id": "uuid",
  "username": "taro",
  "email": "taro@example.com",
  "is_admin": false
}
```

---

### ğŸ‘¤ `GET /users` ï¼ˆç®¡ç†è€…å°‚ç”¨ï¼‰

- å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ï¼ˆç®¡ç†ç”»é¢ç”¨ï¼‰

---

### ğŸ“‹ `GET /tasks`

- è‡ªåˆ†ã®ã‚¿ã‚¹ã‚¯ä¸€è¦§å–å¾—ï¼ˆãƒ•ã‚£ãƒ«ã‚¿ä»˜ãï¼‰

**ã‚¯ã‚¨ãƒªä¾‹:**

```
/tasks?status=done&priority=2&due_before=2025-12-31
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹:**

```json
[
  {
    "id": "uuid",
    "title": "ä¼ç”»æ›¸ä½œæˆ",
    "status": "done",
    "priority": 2,
    "due_date": "2025-08-10"
  }
]
```

---

### ğŸ“„ `GET /tasks/:id`

- å˜ä¸€ã‚¿ã‚¹ã‚¯è©³ç´°å–å¾—

---

### â• `POST /tasks`

- ã‚¿ã‚¹ã‚¯ä½œæˆ

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ:**

```json
{
  "title": "ãƒ¬ãƒãƒ¼ãƒˆæå‡º",
  "detail": "æ˜æ—¥ã¾ã§ã«æå‡º",
  "due_date": "2025-08-06",
  "priority": 1
}
```

---

### âœï¸ `PUT /tasks/:id`

- ã‚¿ã‚¹ã‚¯å†…å®¹ã‚’å…¨é¢æ›´æ–°

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ:**

```json
{
  "title": "è³‡æ–™æå‡º",
  "detail": "é¡§å®¢å‘ã‘ã®ãƒ—ãƒ¬ã‚¼ãƒ³è³‡æ–™",
  "status": "todo",
  "due_date": "2025-08-08",
  "priority": 3
}
```

---

### âœ… `PATCH /tasks/:id/status`

- å®Œäº†ãƒãƒ¼ã‚¯ã®åˆ‡ã‚Šæ›¿ãˆå°‚ç”¨

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ:**

```json
{
  "status": "done"
}
```

---

### âŒ `DELETE /tasks/:id`

- ã‚¿ã‚¹ã‚¯å‰Šé™¤

---

### ğŸ› ï¸ `GET /admin/tasks`ï¼ˆç®¡ç†è€…å°‚ç”¨ï¼‰

- ã™ã¹ã¦ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¿ã‚¹ã‚¯ä¸€è¦§å–å¾—

**ã‚¯ã‚¨ãƒªä¾‹:**

```
/admin/tasks?user_id=abc-123&status=todo
```

---

## âœ… ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆå…±é€šï¼‰

- èªè¨¼å¤±æ•— â†’ `401 Unauthorized`
- æ¨©é™ä¸è¶³ â†’ `403 Forbidden`
- ãƒªã‚½ãƒ¼ã‚¹æœªå­˜åœ¨ â†’ `404 Not Found`
- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ â†’ `422 Unprocessable Entity`

---

## âœ… èªè¨¼

ã™ã¹ã¦ã® `/tasks` ç³»ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§ã¯ `Authorization: Bearer <JWT>` ã‚’è¦æ±‚ã—ã¾ã™ã€‚

---

å¿…è¦ã§ã‚ã‚Œã°ï¼š

- OpenAPI ä»•æ§˜ï¼ˆYAML / JSONï¼‰
- FastAPI ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å®Ÿè£…
- Axios API ãƒ©ãƒƒãƒ‘ãƒ¼ï¼ˆVue.jsï¼‰

ã‚’ä½œæˆã§ãã¾ã™ã€‚æ¬¡ã«é€²ã‚ã‚‹é …ç›®ã‚’ã”æŒ‡å®šãã ã•ã„ã€‚
